{{page-title "Vlivia"}}

{{#if this.session.isAuthenticated}}
  <MainHeader />
{{/if}}
{{outlet}}
{{#if this.toaster.newToasts.length}}
  <Auk::AlertStack as |Alert|>
    {{#each this.toaster.newToasts as |toast|}}
      <Alert
        @skin={{toast.options.type}}
        @title={{toast.title}}
        @message={{toast.message}}
        @isClosable={{not (eq toast.options.type "success")}}
        @onClose={{fn this.toaster.clear toast}}
      />
    {{/each}}
  </Auk::AlertStack>
{{/if}}
{{!-- TODO: See services/toaster.js for more info on why we have "newToasts" as well as "oldToasts" --}}
{{#if this.toaster.oldToasts.length}}
  <Utils::Toaster @toasts={{this.toaster.oldToasts}} />
{{/if}}
